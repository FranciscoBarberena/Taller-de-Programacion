programa Actividad3a
procesos
  proceso recorrerAvenida1
  variables
    listo : boolean
  comenzar
    repetir 19
      hacerEtapa(5)
      EnviarMensaje(V,r2)
      EnviarMensaje(V,r3)
      RecibirMensaje(listo,r2)
      RecibirMensaje(listo,r3)
    hacerEtapa(4)
    vaciarEsquina
  fin
  proceso recorrerAvenida2
  variables
    listo : boolean
  comenzar
    repetir 19
      hacerEtapa(5)
      EnviarMensaje(V,r1)
      EnviarMensaje(V,r3)
      RecibirMensaje(listo,r1)
      RecibirMensaje(listo,r3)
    hacerEtapa(4)
    vaciarEsquina
  fin
  proceso recorrerAvenida3
  variables
    listo : boolean
  comenzar
    repetir 19
      hacerEtapa(5)
      EnviarMensaje(V,r1)
      EnviarMensaje(V,r2)
      RecibirMensaje(listo,r2)
      RecibirMensaje(listo,r1)
    hacerEtapa(4)
    vaciarEsquina
  fin
  proceso vaciarEsquina 
  comenzar
    mientras(HayPapelEnLaEsquina)
      tomarPapel
  fin
  proceso hacerEtapa(E x : numero)
  comenzar
    repetir x
      vaciarEsquina
      mover
  fin
areas
  areaCoordinador: AreaP (4,1,4,1)
  av1: AreaP(1,1,1,100)
  av2: AreaP(2,1,2,100)
  av3: AreaP(3,1,3,100)
robots
  robot recolector1
  variables
    ID : numero
    listo : boolean
  comenzar
    RecibirMensaje(ID,R_Coordinador)
    recorrerAvenida1
  fin
  robot recolector2
  variables
    ID : numero
  comenzar
    RecibirMensaje(ID,R_Coordinador)
    recorrerAvenida2
  fin
  robot recolector3
  variables
    ID : boolean
  comenzar
    RecibirMensaje(ID,R_Coordinador)
    recorrerAvenida3
  fin
  robot coordinador
  comenzar
    EnviarMensaje(1,r1)
    EnviarMensaje(2,r2)
    EnviarMensaje(3,r3)
  fin
variables
  R_Coordinador: coordinador
  r1:recolector1
  r2:recolector2
  r3:recolector3
comenzar
  AsignarArea(R_Coordinador, areaCoordinador)
  AsignarArea(r1,av1)
  AsignarArea(r2,av2)
  AsignarArea(r3,av3)
  Iniciar(R_Coordinador, 4,1)
  Iniciar(r1, 1,1)
  Iniciar(r2, 2,1)
  Iniciar(r3, 3,1)
fin