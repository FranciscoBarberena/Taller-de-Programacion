{Se organizo una competencia entre el equipo rojo y el equipo azul. Cada equipo consta de dos robots, y debe realizar una tarea: 
  Los robots R1 y R2 del equipo rojo debe juntar todas las flores de las avenidas 2 y 3 respectivamente 
  Los robots A1 y A2 del equipo azul debe juntar todos los papeles de las calles 98 y 99 respectivamente
  
Al finalizar la competencia, un robot fiscalizador debera informar el equipo que junto mas objetos.}
programa Actividad1
procesos
  proceso juntarFlores (ES cant : numero)
  comenzar
    mientras (HayFlorEnLaEsquina)
      tomarFlor
      cant := cant + 1
  fin
  proceso juntarPapeles (ES cant : numero)
  comenzar
    mientras (HayPapelEnLaEsquina)
      tomarPapel
      cant := cant + 1
  fin
  proceso recorrerFlores(E esquinas : numero; ES cant : numero)
  comenzar
    repetir esquinas
      juntarFlores(cant)
      mover
  fin
  proceso recorrerFloresBloquear(E esquinas: numero;ES cant : numero)
  variables
    avAux,caAux : numero
  comenzar
    avAux := PosAv
    caAux := PosCa + 1  
    BloquearEsquina(avAux,caAux)
    mover
    juntarFlores(cant)
    BloquearEsquina(avAux, caAux + 1)
    repetir esquinas
      mover
      LiberarEsquina(avAux,caAux)
      juntarFlores(cant)
      caAux := caAux + 1
  fin
  proceso recorrerPapeles(E esquinas : numero; ES cant : numero)
  comenzar
    repetir esquinas
      juntarPapeles(cant)
      mover
  fin
  proceso recorrerPapelesBloquear(E esquinas: numero;ES cant : numero)
  variables
    avAux,caAux : numero
  comenzar
    avAux := PosAv
    caAux := PosCa + 1  
    BloquearEsquina(avAux,caAux)
    mover
    juntarPapeles(cant)
    BloquearEsquina(avAux, caAux + 1)
    repetir esquinas
      mover
      LiberarEsquina(avAux,caAux)
      juntarPapeles(cant)
      caAux := caAux + 1
  fin
areas
  av2: AreaP (2,1,2,96)
  av2fin: AreaP(2,99,2,100)
  av3: AreaP (3,1,3,96)
  av3fin: AreaP(3,99,3,100)
  ca98inicio: AreaP (1,98,1,98)
  ca98: AreaP(4,98,100,98)
  ca97inicio: AreaP (1,97,1,97)
  ca97: AreaP(4,97,100,97)
  
  av2compartida: AreaPC(2,97,2,98)
  av3compartida: AreaPC(3,97,3,98)
  
  areaFisca: AreaP(1,1,1,1)
robots
  robot rojo
  variables
    cant,ID : numero
  comenzar
    RecibirMensaje(ID,R_Fisca)
    cant := 0
    recorrerFlores(96,cant)
    juntarFlores(cant)
    recorrerFloresBloquear(2,cant)
    EnviarMensaje(ID,R_Fisca)
    EnviarMensaje(cant,R_Fisca)
  fin
  robot azul
  variables
    cant,ID : numero
  comenzar
    RecibirMensaje(ID,R_Fisca)
    derecha
    cant := 0
    recorrerPapeles(96,cant)
    juntarPapeles(cant)
    recorrerPapelesBloquear(2,cant)
    EnviarMensaje(ID,R_Fisca)
    EnviarMensaje(cant,R_Fisca)
  fin
  robot fiscalizador
  variables
    cant1,cant2,cant3,cant4,ID : numero
  comenzar
    EnviarMensaje(1,r1)
    EnviarMensaje(2,r2)
    EnviarMensaje(3,a1)
    EnviarMensaje(4,a2)
    repetir 4
      RecibirMensaje(ID,*)
      si (ID = 1)
        RecibirMensaje(cant1,r1)
      sino
        si (ID = 2)
          RecibirMensaje(cant2,r2)
        sino
          si (ID = 3)
            RecibirMensaje(cant3,a1)
          sino
            RecibirMensaje(cant4,a2)
    si ((cant1+cant2) > (cant3 + cant4))
      Informar("Gano el equipo rojo con ",cant1+cant2)
    sino
      si ((cant1+cant2) < (cant3 + cant4))
        Informar("Gano el equipo azul con ",cant3+cant4)
      sino
        Informar("Hubo un empate a ",cant3+cant4)
  fin
variables
  r1, r2: rojo
  a1, a2: azul
  R_Fisca: fiscalizador
comenzar
  AsignarArea(r1, av2)
  AsignarArea(r1, av2fin)
  AsignarArea(r1, av2compartida)
  AsignarArea(r2, av3)
  AsignarArea(r2, av3fin)
  AsignarArea(r2, av3compartida)
  AsignarArea(a1,ca97)
  AsignarArea(a1,ca97inicio)
  AsignarArea(a1,av2compartida)
  AsignarArea(a1,av3compartida)
  AsignarArea(a2,ca98)
  AsignarArea(a2,ca98inicio)
  AsignarArea(a2,av2compartida)
  AsignarArea(a2,av3compartida)
  AsignarArea(R_Fisca, areaFisca)
  Iniciar(r1, 2,1)
  Iniciar(r2, 3,1)
  Iniciar(a1,1,97)
  Iniciar(a2,1,98)
  Iniciar(R_Fisca,1,1)
fin
